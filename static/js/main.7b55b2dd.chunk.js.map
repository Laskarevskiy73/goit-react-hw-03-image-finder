{"version":3,"sources":["components/ImageFinder/css/GalleryItem.module.css","components/ImageFinder/css/PageSearchImage.module.css","components/ImageFinder/SearchForm.js","components/ImageFinder/Modal.js","components/ImageFinder/GalleryItem.js","components/ImageFinder/Gallery.js","services/getImageAPI.js","components/ImageFinder/mapper.js","components/ImageFinder/PageSearchImage.js","index.js","components/ImageFinder/css/Gallery.module.css","components/ImageFinder/css/SearchForm.module.css"],"names":["module","exports","img","stats","statsItem","fullscreenButton","galleryItem","fullscreen-button","button","overlay","modal","pageSearchImage","SearchForm","state","query","handleChangeFieldSearch","_ref","target","_this","setState","value","handleSubmitForm","event","preventDefault","onSubmit","props","resetField","this","react_default","a","createElement","className","style","searchForm","searchFormInput","onChange","type","autoComplete","placeholder","Component","Modal","overlayRef","createRef","handleListenerClickButton","code","handleCloseModal","handleClickOverlay","current","window","removeEventListener","addEventListener","_this$props","largeImage","alt","onKeyUp","onClick","role","ref","src","defaultProps","GalleryItem","modalOpen","handleOpenModal","smallImage","views","comments","downloads","likes","Fragment","Modal_Modal","Gallery","items","gallery","map","item","key","id","GalleryItem_GalleryItem","wrapButton","loadMore","getImageByQuery","page","arguments","length","undefined","axios","get","concat","mapper","hits","hit","webformatURL","largeImageURL","PageSearchImage","requestedPictures","handleSubmit","prevState","then","_ref2","data","catch","error","handleClickButton","_this$state","_ref3","prev","Object","toConsumableArray","scrollTo","top","document","body","scrollHeight","behavior","SearchForm_SearchForm","ImageFinder_Gallery","ReactDOM","render","PageSearchImage_PageSearchImage","querySelector"],"mappings":"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","file":"static/js/main.7b55b2dd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"GalleryItem_img__3gX97\",\"stats\":\"GalleryItem_stats__17ucI\",\"statsItem\":\"GalleryItem_statsItem__3suSW\",\"fullscreenButton\":\"GalleryItem_fullscreenButton__5eiJD\",\"galleryItem\":\"GalleryItem_galleryItem__3sqXp\",\"fullscreen-button\":\"GalleryItem_fullscreen-button__V01U_\",\"button\":\"GalleryItem_button__1FVZo\",\"overlay\":\"GalleryItem_overlay__1O_nl\",\"modal\":\"GalleryItem_modal__1UcgL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageSearchImage\":\"PageSearchImage_pageSearchImage__2iMIC\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport style from './css/SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChangeFieldSearch = ({ target }) => {\n    this.setState({ query: target.value });\n  };\n\n  handleSubmitForm = event => {\n    event.preventDefault();\n\n    const { onSubmit } = this.props;\n\n    onSubmit(this.state);\n\n    this.resetField();\n  };\n\n  resetField = () => this.setState({ query: '' });\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <div>\n        <form className={style.searchForm} onSubmit={this.handleSubmitForm}>\n          <input\n            className={style.searchFormInput}\n            onChange={this.handleChangeFieldSearch}\n            value={query}\n            type=\"text\"\n            autoComplete=\"off\"\n            placeholder=\"Search images...\"\n          />\n        </form>\n      </div>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport style from './css/GalleryItem.module.css';\n\nexport default class Modal extends Component {\n  overlayRef = createRef();\n\n  static propTypes = {\n    largeImage: PropTypes.string.isRequired,\n    handleCloseModal: PropTypes.func.isRequired,\n    alt: PropTypes.string,\n  };\n\n  static defaultProps = {\n    alt: 'Large image',\n  };\n\n  componentWillMount() {\n    window.removeEventListener('keyup', this.handleListenerClickButton);\n  }\n\n  componentDidMount() {\n    window.addEventListener('keyup', this.handleListenerClickButton);\n  }\n\n  handleListenerClickButton = event => {\n    if (event.code !== 'Escape') {\n      return;\n    }\n    this.props.handleCloseModal();\n  };\n\n  handleClickOverlay = ({ target }) => {\n    const { current } = this.overlayRef;\n\n    if (target !== current) {\n      return;\n    }\n    this.props.handleCloseModal();\n  };\n\n  render() {\n    const { largeImage, alt } = this.props;\n\n    return (\n      <div\n        onKeyUp={this.handleListenerClickButton}\n        onClick={this.handleClickOverlay}\n        className={style.overlay}\n        role=\"presentation\"\n        ref={this.overlayRef}\n      >\n        <div className={style.modal}>\n          <img src={largeImage} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from './Modal';\nimport style from './css/GalleryItem.module.css';\n\nexport default class GalleryItem extends Component {\n  static propTypes = {\n    smallImage: PropTypes.string.isRequired,\n    largeImage: PropTypes.string.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    likes: PropTypes.number.isRequired,\n  };\n\n  state = {\n    modalOpen: false,\n  };\n\n  handleOpenModal = () => {\n    this.setState({ modalOpen: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ modalOpen: false });\n  };\n\n  render() {\n    const {\n      smallImage,\n      largeImage,\n      views,\n      comments,\n      downloads,\n      likes,\n    } = this.props;\n\n    const { modalOpen } = this.state;\n\n    return (\n      <>\n        <img className={style.img} src={smallImage} alt=\"\" />\n        <div className={style.stats}>\n          <p className={style.statsItem}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={style.statsItem}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={style.statsItem}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={style.statsItem}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n        <button\n          onClick={this.handleOpenModal}\n          type=\"button\"\n          className={style.fullscreenButton}\n        >\n          <i className=\"material-icons\">zoom_out_map</i>\n        </button>{' '}\n        {modalOpen && (\n          <Modal\n            largeImage={largeImage}\n            handleCloseModal={this.handleCloseModal}\n          />\n        )}\n      </>\n    );\n  }\n}\n\n/* eslint-disable */\n\n// const GalleryItem = ({\n//   smallImage,\n//   largeImage,\n//   views,\n//   comments,\n//   downloads,\n//   likes,\n// }) => (\n//   <>\n//     <img className={style.img} src={smallImage} alt=\"\" />\n//     <div className={style.stats}>\n//       <p className={style.statsItem}>\n//         <i className=\"material-icons\">thumb_up</i>\n//         {likes}\n//       </p>\n//       <p className={style.statsItem}>\n//         <i className=\"material-icons\">visibility</i>\n//         {views}\n//       </p>\n//       <p className={style.statsItem}>\n//         <i className=\"material-icons\">comment</i>\n//         {comments}\n//       </p>\n//       <p className={style.statsItem}>\n//         <i className=\"material-icons\">cloud_download</i>\n//         {downloads}\n//       </p>\n//     </div>\n//     <button type=\"button\" className={style.fullscreenButton}>\n//       <i className=\"material-icons\">zoom_out_map</i>\n//     </button>{' '}\n//   </>\n// );\n\n// export default GalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport GalleryItem from './GalleryItem';\nimport style from './css/Gallery.module.css';\n\nconst Gallery = ({ items, onClick }) => (\n  <>\n    <ul className={style.gallery}>\n      {items.map(item => (\n        <li className={style.galleryItem} key={item.id} id={item.id}>\n          <GalleryItem\n            smallImage={item.smallImage}\n            largeImage={item.largeImage}\n            views={item.views}\n            comments={item.comments}\n            downloads={item.downloads}\n            likes={item.likes}\n          />\n        </li>\n      ))}\n    </ul>\n    <div className={style.wrapButton}>\n      <button onClick={onClick} className={style.loadMore} type=\"button\">\n        Load more\n      </button>\n    </div>\n  </>\n);\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      smallImage: PropTypes.string.isRequired,\n      largeImage: PropTypes.string.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n      likes: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import axios from 'axios';\n\n/* eslint-disable-next-line */\nexport const getImageByQuery = (query, page = 1) => {\n  return axios.get(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=12715341-4a1a75add0c0b95007e6d71a8`,\n  );\n};\n\n// pixabay key 12715341-4a1a75add0c0b95007e6d71a8\n","const mapper = hits => {\n  return hits.map(hit => {\n    const {\n      id,\n      webformatURL: smallImage,\n      largeImageURL: largeImage,\n      views,\n      comments,\n      downloads,\n      likes,\n    } = hit;\n\n    return {\n      id,\n      smallImage,\n      largeImage,\n      views,\n      comments,\n      downloads,\n      likes,\n    };\n  });\n};\n\nexport default mapper;\n","import React, { Component } from 'react';\nimport SearchForm from './SearchForm';\nimport Gallery from './Gallery';\nimport { getImageByQuery } from '../../services/getImageAPI';\nimport mapper from './mapper';\nimport style from './css/PageSearchImage.module.css';\n\nexport default class PageSearchImage extends Component {\n  state = {\n    requestedPictures: [],\n    page: '',\n    query: '',\n  };\n\n  componentDidUpdate(prevState) {\n    const { requestedPictures } = this.state;\n\n    if (prevState.requestedPictures !== requestedPictures) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleSubmit = ({ query }) => {\n    this.setState(prevState =>\n      prevState.query !== query\n        ? {\n            query,\n            page: 1,\n          }\n        : {\n            page: 1,\n          },\n    );\n\n    getImageByQuery(query)\n      .then(({ data: { hits } }) =>\n        this.setState({ requestedPictures: mapper(hits) }),\n      )\n      .catch(error => error);\n  };\n\n  handleClickButton = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n\n    const { page, query } = this.state;\n\n    getImageByQuery(query, page).then(({ data: { hits } }) => {\n      this.setState(prev => ({\n        requestedPictures: [...prev.requestedPictures, ...mapper(hits)],\n      }));\n    });\n  };\n\n  render() {\n    const { requestedPictures } = this.state;\n\n    return (\n      <div className={style.pageSearchImage}>\n        <SearchForm onSubmit={this.handleSubmit} />\n        {requestedPictures.length > 0 && (\n          <Gallery items={requestedPictures} onClick={this.handleClickButton} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PageSearchImage from './components/ImageFinder/PageSearchImage';\n\nconst App = () => <PageSearchImage />;\n\nReactDOM.render(<App />, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__5Q3QU\",\"galleryItem\":\"Gallery_galleryItem__3gUfX\",\"wrapButton\":\"Gallery_wrapButton__1uZha\",\"loadMore\":\"Gallery_loadMore__86OER\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__3n2-H\",\"searchFormInput\":\"SearchForm_searchFormInput__36Y_y\"};"],"sourceRoot":""}